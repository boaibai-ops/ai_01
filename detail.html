<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SELF UI Clone - Editor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html-to-image/1.11.11/html-to-image.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;600;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@400&display=swap');
        
        body {
            font-family: "PingFang HK", "PingFang SC", "Noto Sans SC", -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: #F1F1F1;
        }

        /* Hide scrollbar */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Custom Range Slider for "Avatar size" or generally useful */
        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            background: transparent;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 16px;
            width: 16px;
            border-radius: 50%;
            background: #484848;
            margin-top: -6px;
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #E5E5E5;
            border-radius: 2px;
        }
    </style>
</head>
<body class="p-[30px] min-h-screen box-border overflow-hidden">

    <div class="max-w-[1728px] mx-auto flex flex-col gap-[12px] h-[calc(100vh-60px)]">
        
        <!-- Header -->
        <header class="bg-white rounded-[36px] h-[111px] px-[30px] flex justify-between items-center flex-shrink-0">
            <!-- Left: Back & Title -->
            <div class="flex items-center gap-[20px]">
                <a href="demo.html" class="w-[52px] h-[52px] rounded-full bg-[#F5F5F5] flex items-center justify-center hover:bg-gray-200 transition-colors">
                    <img src="images/back-icon.svg" alt="Back" class="w-full h-full">
                </a>
                <h1 class="text-[32px] font-semibold text-[#131313]">Editor</h1>
            </div>

            <!-- Right: Menu -->
            <div class="text-[36px] font-medium text-[#131313] cursor-pointer hover:text-gray-600 transition-colors">menu</div>
        </header>

        <!-- Main Body -->
        <div class="flex flex-1 gap-[12px] overflow-hidden">
            
            <!-- Left Sidebar -->
            <aside class="bg-white rounded-[36px] w-[350px] p-[24px] flex flex-col gap-[24px] overflow-y-auto no-scrollbar flex-shrink-0">
                
                <!-- Text Adjustment 01 -->
                <div class="flex flex-col gap-[16px]">
                    <h3 class="text-[18px] font-semibold text-[#131313]">Text Adjustment 01</h3>
                    <!-- Tabs -->
                    <div class="bg-[#F5F5F5] p-[4px] rounded-[14px] flex">
                        <button id="tab-01-main" class="flex-1 h-[36px] bg-white rounded-[10px] shadow-sm text-[14px] font-medium text-[#171717] flex items-center justify-center transition-all">主标题</button>
                        <button id="tab-01-sub" class="flex-1 h-[36px] text-[14px] font-medium text-[#737373] flex items-center justify-center transition-all">副标题</button>
                    </div>
                    <!-- Input -->
                    <div class="flex flex-col gap-[10px]">
                        <span class="text-[12px] font-semibold text-[#737373] tracking-wider uppercase">Content</span>
                        <div class="bg-[#FAFAFA] border border-[#E5E5E5] rounded-[14px] p-[10px] h-[80px] flex items-start">
                            <textarea id="input-adj-01" class="w-full h-full bg-transparent outline-none text-[14px] text-[#525252] font-medium placeholder-gray-400 resize-none" placeholder="Type here... (Press Enter for new line)"></textarea>
                        </div>
                    </div>
                </div>

                <div class="h-[1px] bg-gray-100 w-full"></div>

                <!-- Text Adjustment 02 -->
                <div class="flex flex-col gap-[16px]">
                    <h3 class="text-[18px] font-semibold text-[#131313]">Text Adjustment 02</h3>
                    <!-- Tabs -->
                    <div class="bg-[#F5F5F5] p-[4px] rounded-[14px] flex">
                        <button id="tab-02-name" class="flex-1 h-[36px] bg-white rounded-[10px] shadow-sm text-[14px] font-medium text-[#171717] flex items-center justify-center transition-all">讲师名称</button>
                        <button id="tab-02-desc" class="flex-1 h-[36px] text-[14px] font-medium text-[#737373] flex items-center justify-center transition-all">讲师介绍</button>
                    </div>
                    <!-- Input -->
                    <div class="flex flex-col gap-[10px]">
                        <span class="text-[12px] font-semibold text-[#737373] tracking-wider uppercase">Content</span>
                        <div class="bg-[#FAFAFA] border border-[#E5E5E5] rounded-[14px] p-[10px] h-[80px] flex items-start">
                            <textarea id="input-adj-02" class="w-full h-full bg-transparent outline-none text-[14px] text-[#525252] font-medium placeholder-gray-400 resize-none" placeholder="Type here... (Press Enter for new line)"></textarea>
                        </div>
                    </div>
                </div>

                <div class="h-[1px] bg-gray-100 w-full"></div>

                <!-- People's photos -->
                <div class="flex flex-col gap-[16px]">
                    <h3 class="text-[18px] font-semibold text-[#131313]">People's photos</h3>
                    
                    <!-- Upload Area -->
                    <input type="file" id="file-input" accept="image/*" class="hidden">
                    <label for="file-input" id="drop-zone" class="bg-[#F5F5F5] rounded-[14px] h-[160px] border-2 border-dashed border-[#E5E5E5] flex flex-col items-center justify-center cursor-pointer hover:bg-[#EBEBEB] transition-colors gap-[8px]">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#737373" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="17 8 12 3 7 8"></polyline>
                            <line x1="12" y1="3" x2="12" y2="15"></line>
                        </svg>
                        <span class="text-[14px] font-medium text-[#737373]">Click or drag to upload</span>
                    </label>

                    <!-- Input -->
                    <div class="flex flex-col gap-[10px]">
                        <div class="flex justify-between items-center">
                            <span class="text-[12px] font-semibold text-[#737373] tracking-wider uppercase">Avatar size</span>
                            <span id="avatar-size-val" class="text-[12px] font-semibold text-[#737373] uppercase">100%</span>
                        </div>
                        <div class="bg-[#E5E5E5] rounded-[14px] h-[40px] flex items-center px-4">
                            <input type="range" id="avatar-size-slider" min="10" max="200" value="100" class="w-full">
                        </div>
                    </div>
                </div>

            </aside>

            <!-- Main Preview Area -->
            <main class="flex-1 bg-[#E5E5E5] rounded-[36px] relative flex flex-col items-center justify-center overflow-hidden">
                
                <!-- Top Floating Pill -->
                <div class="absolute top-[20px] bg-white/80 backdrop-blur-sm rounded-full px-[24px] py-[8px] text-[14px] font-medium text-[#525252] shadow-sm">
                    官网-课程封面 ｜ 1920 x 1080 px
                </div>

                <!-- Preview Canvas Placeholder -->
                <div id="poster-container" class="w-[80%] aspect-video shadow-xl rounded-[4px] relative overflow-hidden bg-white">
                    <div id="poster-content" class="origin-top-left absolute top-0 left-0 w-[1920px] h-[1080px] bg-white overflow-hidden pointer-events-none select-none">
                        
                        <!-- Decoration 1 (Top Right) with pattern fill and circular mask -->
                        <div class="absolute left-[1102px] top-[62px] w-[703px] h-[703px] rounded-full overflow-hidden">
                        <svg class="w-full h-full" viewBox="0 0 1920 1080" preserveAspectRatio="xMidYMid slice" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <defs>
                                <style>
                                    .pattern-gray { fill: #e8e8e8; }
                                    .pattern-brown { fill: var(--pattern-brown, #93622c); }
                                    .pattern-clip { clip-path: url(#pattern-clip); }
                                </style>
                                <clipPath id="pattern-clip">
                                    <rect width="1920" height="1080"/>
                                </clipPath>
                            </defs>
                            <rect class="pattern-gray" width="1920" height="1080"/>
                            <g class="pattern-clip">
                                <g>
                                    <g>
                                        <polygon class="pattern-brown" points=".08 547.1 -249.48 546.37 -376.96 183.76 -115.09 188.96 .08 547.1"/>
                                        <polygon class="pattern-brown" points="140.43 194.04 -115.09 188.96 -240.63 -201.4 27.83 -191.15 140.43 194.04"/>
                                        <polygon class="pattern-brown" points="482.01 548.51 243.84 547.81 140.43 194.04 389.84 199 482.01 548.51"/>
                                        <polygon class="pattern-brown" points="633.35 203.85 389.84 199 289.59 -181.16 544.88 -171.42 633.35 203.85"/>
                                        <polygon class="pattern-brown" points="942.29 549.86 714.76 549.19 633.35 203.85 871.16 208.58 942.29 549.86"/>
                                        <polygon class="pattern-brown" points="1103.49 213.2 871.16 208.58 793.95 -161.92 1037.03 -152.64 1103.49 213.2"/>
                                        <polygon class="pattern-brown" points="1382.35 551.14 1164.76 550.51 1103.49 213.2 1330.5 217.71 1382.35 551.14"/>
                                        <polygon class="pattern-brown" points="1552.39 222.12 1330.5 217.71 1274.32 -143.59 1506.03 -134.74 1552.39 222.12"/>
                                        <polygon class="pattern-brown" points="1803.51 552.38 1595.22 551.77 1552.39 222.12 1769.33 226.44 1803.51 552.38"/>
                                        <polygon class="pattern-brown" points="1981.47 230.65 1769.33 226.44 1732.36 -126.11 1953.49 -117.67 1981.47 230.65"/>
                                    </g>
                                    <g>
                                        <polygon class="pattern-brown" points="204.09 1181.44 -23.99 1187.73 -132.21 879.91 106.13 876.84 204.09 1181.44"/>
                                        <polygon class="pattern-brown" points="339.15 873.85 106.13 876.84 .08 547.1 243.84 547.81 339.15 873.85"/>
                                        <polygon class="pattern-brown" points="645.7 1169.26 427.27 1175.29 339.15 873.85 567.03 870.92 645.7 1169.26"/>
                                        <polygon class="pattern-brown" points="789.93 868.05 567.03 870.92 482.01 548.51 714.76 549.19 789.93 868.05"/>
                                        <polygon class="pattern-brown" points="1068.94 1157.59 859.55 1163.37 789.93 868.05 1008.02 865.25 1068.94 1157.59"/>
                                        <polygon class="pattern-brown" points="1221.44 862.51 1008.02 865.25 942.29 549.86 1164.76 550.51 1221.44 862.51"/>
                                        <polygon class="pattern-brown" points="1474.92 1146.4 1274.02 1151.94 1221.44 862.51 1430.36 859.82 1474.92 1146.4"/>
                                        <polygon class="pattern-brown" points="1634.9 857.19 1430.36 859.82 1382.35 551.14 1595.22 551.77 1634.9 857.19"/>
                                        <polygon class="pattern-brown" points="1864.68 1135.65 1671.76 1140.97 1634.9 857.19 1835.2 854.62 1864.68 1135.65"/>
                                        <polygon class="pattern-brown" points="2031.41 852.09 1835.2 854.62 1803.51 552.38 2007.37 552.97 2031.41 852.09"/>
                                    </g>
                                </g>
                            </g>
                        </svg>
                        </div>

                        <!-- Decoration 2 (Bottom Left) -->
                        <svg class="absolute left-[61px] top-[911px] w-[585px] h-[85px]" viewBox="0 0 585 85" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_66_28)">
                            <path d="M135.004 0H42.1937C18.8908 0 0 18.8885 0 42.1887C0 65.4889 18.8908 84.3774 42.1937 84.3774H135.004C158.307 84.3774 177.198 65.4889 177.198 42.1887C177.198 18.8885 158.307 0 135.004 0Z" fill="#FF2442"/>
                            <path d="M147.658 22.4974C145.327 22.4974 143.437 24.388 143.437 26.7187V30.69C143.437 30.8301 143.547 30.9401 143.687 30.9401H147.658C149.989 30.9401 151.879 29.0495 151.879 26.7187C151.879 24.388 149.989 22.4974 147.658 22.4974Z" fill="white"/>
                            <path d="M149.948 41.7636C149.858 41.6636 149.778 41.5535 149.678 41.4535C148.128 39.7529 145.907 38.6826 143.426 38.6826H142.076V30.9401C142.076 26.2686 138.295 22.4873 133.623 22.4873H128.341C128.201 22.4873 128.091 22.3773 128.091 22.2373V19.9265C128.091 19.7865 127.981 19.6764 127.841 19.6764H119.899C119.759 19.6764 119.649 19.7865 119.649 19.9265V22.2373C119.649 22.3773 119.539 22.4873 119.399 22.4873H114.367C114.227 22.4873 114.117 22.5974 114.117 22.7374V30.68C114.117 30.8201 114.227 30.9301 114.367 30.9301H119.399C119.539 30.9301 119.649 31.0401 119.649 31.1802V38.4225C119.649 38.5626 119.539 38.6726 119.399 38.6726H111.546C111.406 38.6726 111.296 38.7826 111.296 38.9227V46.8653C111.296 47.0053 111.406 47.1153 111.546 47.1153H119.399C119.539 47.1153 119.649 47.2254 119.649 47.3654V64.421C119.649 64.561 119.759 64.671 119.899 64.671H127.841C127.981 64.671 128.091 64.561 128.091 64.421V47.3654C128.091 47.2254 128.201 47.1153 128.341 47.1153H141.316C142.486 47.1153 143.426 48.0556 143.426 49.226V55.7081C143.426 56.4084 142.856 56.9785 142.156 56.9785H134.003C133.823 56.9785 133.693 57.1686 133.773 57.3387L136.974 64.541C137.014 64.631 137.104 64.691 137.204 64.691H144.157C148.408 64.691 151.859 61.2399 151.859 56.9886V47.1353C151.859 45.3848 151.329 43.7643 150.419 42.4138C150.269 42.1937 150.109 41.9737 149.928 41.7636H149.948ZM133.373 38.6926H128.341C128.201 38.6926 128.091 38.5826 128.091 38.4425V31.2002C128.091 31.0601 128.201 30.9501 128.341 30.9501H132.353C133.053 30.9501 133.623 31.5203 133.623 32.2205V38.4425C133.623 38.5826 133.513 38.6926 133.373 38.6926Z" fill="white"/>
                            <path d="M82.5468 56.2483H73.2638C72.0834 56.2483 70.9531 56.0182 69.9127 55.5981C69.7827 55.5481 69.6426 55.5981 69.5826 55.7281L66.0115 63.7608C65.9514 63.9008 66.0115 64.0608 66.1615 64.1109C67.4019 64.501 68.7123 64.7111 70.0728 64.7111H79.0057C79.1057 64.7111 79.1957 64.651 79.2358 64.561L82.7769 56.6184C82.8469 56.4484 82.7269 56.2583 82.5468 56.2583V56.2483Z" fill="white"/>
                            <path d="M111.566 56.2483H103.804C103.664 56.2483 103.554 56.1382 103.554 55.9982V31.2001C103.554 31.0601 103.664 30.95 103.804 30.95H108.726C108.866 30.95 108.976 30.84 108.976 30.7V22.7574C108.976 22.6173 108.866 22.5073 108.726 22.5073H89.9494C89.8094 22.5073 89.6993 22.6173 89.6993 22.7574V30.7C89.6993 30.84 89.8094 30.95 89.9494 30.95H94.6809C94.821 30.95 94.931 31.0601 94.931 31.2001V55.9982C94.931 56.1382 94.821 56.2483 94.6809 56.2483H87.5286C87.4286 56.2483 87.3386 56.3083 87.2985 56.3983L83.7574 64.3409C83.6874 64.5109 83.8074 64.701 83.9875 64.701H111.576C111.716 64.701 111.827 64.591 111.827 64.4509V56.5083C111.827 56.3683 111.716 56.2583 111.576 56.2583L111.566 56.2483Z" fill="white"/>
                            <path d="M65.2012 47.7155L63.9208 31.1801C63.9108 31.0501 63.8008 30.9501 63.6707 30.9501H55.6982C55.5481 30.9501 55.4381 31.0801 55.4481 31.2201L56.7685 48.2457C57.1386 52.8272 58.7491 57.0485 61.28 60.5797C61.39 60.7397 61.6401 60.7097 61.7201 60.5297L65.8615 51.2366C65.8815 51.1766 65.8915 51.1166 65.8715 51.0666C65.5414 49.9962 65.3113 48.8759 65.2113 47.7255L65.2012 47.7155Z" fill="white"/>
                            <path d="M83.7773 52.6171L86.9983 45.3748C87.0684 45.2047 86.9483 45.0146 86.7683 45.0146H82.1868C81.5766 45.0146 81.1664 44.3844 81.4165 43.8243L86.9983 31.2902C87.0684 31.1201 86.9483 30.9301 86.7683 30.9301H80.2061C79.5959 30.9301 79.1858 30.2999 79.4359 29.7397L83.7673 20.0165C83.8373 19.8465 83.7173 19.6564 83.5372 19.6564H75.5246C75.4246 19.6564 75.3345 19.7164 75.2945 19.8065L68.4823 35.1014C67.7321 36.782 68.9625 38.6626 70.7931 38.6626H75.4546L70.7731 49.176C70.0228 50.8465 71.2532 52.7371 73.0838 52.7371H83.5372C83.6372 52.7371 83.7273 52.6771 83.7673 52.5871L83.7773 52.6171Z" fill="white"/>
                            <path d="M35.4815 30.9401H27.4989C27.3689 30.9401 27.2588 31.0401 27.2488 31.1702L26.0084 47.4655C25.9184 48.6859 25.6883 49.8662 25.3382 50.9966C25.3182 51.0566 25.3282 51.1166 25.3482 51.1667L29.5096 60.5197C29.5896 60.6998 29.8397 60.7298 29.9497 60.5697C32.6606 56.7785 34.3211 52.187 34.5212 47.2154L35.7416 31.2002C35.7516 31.0501 35.6316 30.9301 35.4915 30.9301L35.4815 30.9401Z" fill="white"/>
                            <path d="M49.6462 19.6764H41.5335C41.3935 19.6764 41.2835 19.7865 41.2835 19.9265V56.1483C41.2835 56.6184 40.9033 56.9886 40.4432 56.9886H35.6216C35.4416 56.9886 35.3115 57.1786 35.3916 57.3487L38.5926 64.551C38.6326 64.641 38.7226 64.7011 38.8227 64.7011H42.2038C46.4551 64.7011 49.9063 61.2499 49.9063 56.9985V19.9265C49.9063 19.7865 49.7962 19.6764 49.6562 19.6764H49.6462Z" fill="white"/>
                            <path d="M250.982 67.0718L250.962 67.1418C250.691 68.1321 250.241 69.7827 246.34 69.7827H231.365C229.885 69.7827 228.684 68.5823 228.684 67.1018V58.6491H250.381H250.711V12.8742H228.684V5.4618H220.052V12.8742H198.394V58.6591H220.052V67.1118C220.052 73.3538 225.133 78.4255 231.365 78.4255H246.34C252.992 78.4255 257.714 74.6143 259.284 68.9224C260.245 65.5913 260.565 63.2806 260.585 63.0805L252.272 60.1596C252.132 61.3399 251.622 64.8911 250.982 67.0818V67.0718ZM228.674 51.4667V39.7329H242.119V51.4667H228.674ZM242.119 20.0665V32.5406H228.674V20.0665H242.119ZM220.042 20.0665V32.5406H206.307V20.0665H220.042ZM206.317 51.4667V39.7329H220.052V51.4667H206.317Z" fill="#232323"/>
                            <path d="M297.317 5.4618H288.694V12.224H264.296V19.4163H276.41L281.001 26.8988H272.779H264.936V78.4355H272.779V45.6348L277.15 51.1366L281.851 46.9453C281.371 47.7355 281.081 48.6658 281.081 49.6561V68.2022H304.939V49.6561C304.939 48.7258 304.699 47.8556 304.269 47.1053L308.79 51.1366L313.252 45.5148V68.0621C313.252 69.4526 312.121 70.5729 310.741 70.5729H299.837L301.798 78.4155H310.741C316.463 78.4155 321.094 73.784 321.094 68.0621V26.8888H305.739L310.331 19.4163H321.724V12.224H297.327V5.4618H297.317ZM272.779 45.3948V34.0711H285.473L272.779 45.3948ZM297.747 60.9998H288.274V52.9072C288.274 52.187 288.864 51.5968 289.584 51.5968H296.446C297.166 51.5968 297.757 52.187 297.757 52.9072V60.9998H297.747ZM299.707 44.4044H286.303C285.523 44.4044 284.782 44.5845 284.112 44.8846L290.444 39.2328L286.343 34.0611H299.567L295.466 39.2328L301.708 44.8046C301.088 44.5445 300.408 44.4044 299.697 44.4044H299.707ZM313.252 45.4748L300.468 34.0711H313.252V45.4748ZM296.636 26.8888H290.084L285.493 19.4063H301.228L296.636 26.8888Z" fill="#232323"/>
                            <path d="M490.94 5.70186H482.307V16.5254H457.969V58.639H461.89H482.307V78.6255H490.94V58.639H508.415H515.268V16.5254H490.93V5.70186H490.94ZM466.552 51.4567V23.7277H482.307V51.4567H466.552ZM506.695 23.7277V51.4567H490.94V23.7277H506.695Z" fill="#232323"/>
                            <path d="M418.476 78.4155H430.82C440.663 78.4155 448.646 70.4329 448.646 60.5897V10.2734H395.899V18.1259H440.803V58.9792C440.803 65.3812 435.611 70.5829 429.199 70.5829H416.525L418.486 78.4355L418.476 78.4155Z" fill="#232323"/>
                            <path d="M529.633 30.1464L521.598 57.5727L529.124 59.7778L537.159 32.3514L529.633 30.1464Z" fill="#232323"/>
                            <path d="M564.924 65.0211C564.524 66.2315 562.963 70.1728 559.692 70.1728H552.36C550.049 70.1728 548.168 68.3022 548.168 65.9814V23.9078H539.706V67.2018C539.706 73.5139 544.817 78.6255 551.129 78.6255H559.682C565.634 78.6255 570.716 74.4242 572.946 67.662C574.387 63.3206 574.857 57.4087 574.867 57.3286L566.654 54.4577C566.404 57.4087 565.694 62.6204 564.904 65.0011L564.924 65.0211Z" fill="#232323"/>
                            <path d="M564.934 25.0781L548.848 4.81156L542.666 9.89321L558.752 30.1598L564.934 25.0781Z" fill="#232323"/>
                            <path d="M574.296 29.2895L566.234 32.8307L576.927 57.4987L585 53.9475L574.296 29.2895Z" fill="#232323"/>
                            <path d="M378.253 5.4618H370.41V16.0452H362.408V5.4618H354.565V16.0452H346.562V5.4618H338.72V16.0452H329.717V35.6916H338.3V23.2276H378.683V35.6916H387.256V16.0452H378.253V5.4618Z" fill="#232323"/>
                            <path d="M375.492 36.8319L375.462 36.8019H375.542V29.6096H341.581V36.8019H363.598L347.613 50.0762H329.587V57.2686H363.618C363.888 59.1992 364.098 62.1602 363.438 64.861C362.928 66.9317 360.897 69.3825 357.496 70.2228C351.634 71.6632 346.292 69.0824 343.522 64.3409L336.769 68.2921C340.431 74.5542 346.542 78.4354 354.175 78.4354C355.906 78.4354 357.646 78.2354 359.347 77.8152C365.139 76.3948 369.72 72.0434 371.02 66.7216C371.851 63.3405 371.761 59.8594 371.481 57.2686H387.256V50.0762H359.547L375.492 36.8419V36.8319Z" fill="#232323"/>
                            <path d="M413.844 23.8478H404.361L411.284 41.6235H420.757L413.844 23.8478Z" fill="#232323"/>
                            <path d="M436.792 40.8632C431.74 43.104 419.176 48.5257 396.059 57.6787V67.1518C417.026 58.8991 429.3 53.7474 436.792 50.4864V40.8632Z" fill="#232323"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_66_28">
                            <rect width="584.81" height="84.35" fill="white" transform="scale(1.00032)"/>
                            </clipPath>
                            </defs>
                        </svg>
                        
                        <!-- Brown Circle -->
                        <div id="poster-circle-bg" class="poster-theme-bg absolute left-[849px] top-[328px] w-[685px] h-[685px] rounded-full bg-[#93622C]"></div>
                        
                        <!-- Image Circle -->
                        <div class="absolute left-[893px] top-[372px] w-[597px] h-[597px] rounded-full overflow-hidden flex items-center justify-center">
                            <img id="poster-avatar" src="images/poster-image.png" class="w-full h-full object-cover transform origin-center" alt="Poster Image">
                        </div>
                        
                        <!-- Main Title -->
                        <div id="poster-title" class="absolute left-[72px] top-[62px] w-[1200px] font-['PingFang_SC','Noto_Sans_SC'] font-medium text-[160px] leading-[1.15] text-[#232323] whitespace-pre-wrap">家居 运营
必修课</div>
                        
                        <!-- Date -->
                        <div id="poster-subtitle" class="absolute left-[80px] top-[538px] w-[604px] font-['Outfit'] font-normal text-[130px] leading-[0.9] text-[#232323] uppercase whitespace-pre-wrap">2o25
feb.o6</div>

                        <!-- Pink Badge Group -->
                        <!-- Pink Circle -->
                        <div class="absolute left-[1415px] top-[575px] w-[425px] h-[425px] rounded-full bg-[#FF2168]"></div>
                        
                        <!-- Name -->
                        <div id="poster-lecturer-name" class="absolute left-[1552px] top-[682px] w-[152px] font-['PingFang_SC','Noto_Sans_SC'] font-medium text-[76px] leading-[1.4] text-white text-center">小红</div>
                        
                        <!-- Description -->
                        <div id="poster-lecturer-desc" class="absolute left-[1328px] top-[803px] w-[600px] font-['PingFang_SC','Noto_Sans_SC'] font-semibold text-[36px] leading-[1.25] text-white text-center whitespace-pre-wrap">小红书电商学习中心
高级认证讲师</div>

                    </div>
                </div>

                <!-- Bottom Floating Toolbar -->
                <div class="absolute bottom-[30px] bg-white rounded-[16px] p-[8px] pl-[24px] flex items-center gap-[24px] shadow-lg">
                    <!-- Zoom -->
                    <div class="flex items-center gap-[12px]">
                        <span class="text-[16px] font-medium text-[#737373]">-</span>
                        <span class="text-[17px] font-medium text-[#737373]">99%</span>
                        <span class="text-[16px] font-medium text-[#737373]">+</span>
                    </div>
                    
                    <div class="w-[1px] h-[24px] bg-[#E5E5E5]"></div>

                    <!-- Format -->
                    <div class="flex items-center gap-[12px]">
                        <span class="text-[17px] font-medium text-[#737373] uppercase">png</span>
                    </div>

                    <!-- Export Button -->
                    <button id="btn-export" class="bg-[#000000] text-[#F2F2F3] px-[27px] py-[10px] rounded-[12px] text-[17px] font-medium uppercase hover:bg-gray-800 transition-colors">
                        export
                    </button>
                </div>

            </main>

            <!-- Right Sidebar -->
            <aside class="bg-white rounded-[36px] w-[350px] p-[24px] flex flex-col gap-[24px] flex-shrink-0">
                
                <!-- Theme Colors -->
                <div class="flex flex-col gap-[16px]">
                    <h3 class="text-[18px] font-semibold text-[#131313]">Theme Colors</h3>
                    <div id="theme-colors" class="flex gap-[4px]">
                        <div class="flex-1 h-[30px] rounded-[8px] bg-[#FF2168] cursor-pointer" data-color="#FF2168"></div>
                        <div class="flex-1 h-[30px] rounded-[8px] bg-[#FFE0EC] cursor-pointer" data-color="#FFE0EC"></div>
                        <div class="flex-1 h-[30px] rounded-[8px] bg-[#93622C] cursor-pointer" data-color="#93622C"></div>
                        <div class="flex-1 h-[30px] rounded-[8px] bg-[#A59235] cursor-pointer" data-color="#A59235"></div>
                    </div>
                </div>

                <div class="h-[1px] bg-gray-100 w-full"></div>

                <!-- Design Style -->
                <div class="flex flex-col gap-[16px]">
                    <h3 class="text-[18px] font-semibold text-[#131313]">Design Style</h3>
                    
                <!-- Style Grid -->
                <div class="grid grid-cols-2 gap-[7px]" id="design-style-grid">
                    <div class="aspect-square rounded-[14px] cursor-pointer hover:opacity-90 transition-opacity bg-cover bg-center border-2 border-transparent hover:border-black" style="background-image: url('images/pattern%201.svg');" data-style="pattern" data-src="images/pattern%201.svg"></div>
                    <div class="aspect-square bg-[#F5F5F5] rounded-[14px] cursor-pointer hover:bg-gray-200 transition-colors"></div>
                    <div class="aspect-square bg-[#F5F5F5] rounded-[14px] cursor-pointer hover:bg-gray-200 transition-colors"></div>
                    <div class="aspect-square bg-[#F5F5F5] rounded-[14px] cursor-pointer hover:bg-gray-200 transition-colors"></div>
                </div>

                    <!-- Action Buttons -->
                    <div class="flex gap-[8px] mt-[8px]">
                        <!-- Randomize -->
                        <button class="flex-1 h-[50px] bg-[#171717] rounded-[14px] flex items-center justify-center gap-[8px] hover:bg-black transition-colors">
                            <img src="images/randomize-icon.svg" alt="Random" class="w-[17px] h-[17px]">
                            <span class="text-[17px] font-medium text-white">Randomize</span>
                        </button>
                        <!-- Refresh/Reset -->
                        <button class="w-[50px] h-[50px] bg-[#F5F5F5] rounded-[14px] flex items-center justify-center opacity-80 hover:opacity-100 transition-opacity">
                            <img src="images/refresh-icon.svg" alt="Refresh" class="w-full h-full p-3">
                        </button>
                    </div>
                </div>

            </aside>

        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Resize logic
            function resizePoster() {
                const container = document.getElementById('poster-container');
                const content = document.getElementById('poster-content');
                if (container && content) {
                    const scale = container.offsetWidth / 1920;
                    content.style.transform = `scale(${scale})`;
                }
            }
            window.addEventListener('resize', resizePoster);
            window.addEventListener('load', resizePoster);
            resizePoster();

            // Elements
            const els = {
                posterTitle: document.getElementById('poster-title'),
                posterSubtitle: document.getElementById('poster-subtitle'), // Date
                posterName: document.getElementById('poster-lecturer-name'),
                posterDesc: document.getElementById('poster-lecturer-desc'),
                
                input01: document.getElementById('input-adj-01'),
                input02: document.getElementById('input-adj-02'),
                
                // New elements
                dropZone: document.getElementById('drop-zone'),
                fileInput: document.getElementById('file-input'),
                avatarSizeSlider: document.getElementById('avatar-size-slider'),
                avatarSizeVal: document.getElementById('avatar-size-val'),
                posterAvatar: document.getElementById('poster-avatar'),
                
                tab01Main: document.getElementById('tab-01-main'),
                tab01Sub: document.getElementById('tab-01-sub'),
                tab02Name: document.getElementById('tab-02-name'),
                tab02Desc: document.getElementById('tab-02-desc'),
                
                btnExport: document.getElementById('btn-export'),
                posterContent: document.getElementById('poster-content')
            };

            // State
            const state = {
                adj01: 'main', // 'main' | 'sub'
                adj02: 'name'  // 'name' | 'desc'
            };

            // Helpers
            const setActiveTabStyle = (activeBtn, inactiveBtn) => {
                activeBtn.className = "flex-1 h-[36px] bg-white rounded-[10px] shadow-sm text-[14px] font-medium text-[#171717] flex items-center justify-center transition-all";
                inactiveBtn.className = "flex-1 h-[36px] text-[14px] font-medium text-[#737373] flex items-center justify-center transition-all";
            };

            const updateInput = (inputId, text) => {
                document.getElementById(inputId).value = text; // Preserve newlines
            };

            // Initialization
            if (els.posterTitle && els.input01) updateInput('input-adj-01', els.posterTitle.innerText);
            if (els.posterName && els.input02) updateInput('input-adj-02', els.posterName.innerText);

            // Event Listeners: Tab 01
            if (els.tab01Main && els.tab01Sub) {
                els.tab01Main.addEventListener('click', () => {
                    state.adj01 = 'main';
                    setActiveTabStyle(els.tab01Main, els.tab01Sub);
                    updateInput('input-adj-01', els.posterTitle.innerText);
                });
                els.tab01Sub.addEventListener('click', () => {
                    state.adj01 = 'sub';
                    setActiveTabStyle(els.tab01Sub, els.tab01Main);
                    updateInput('input-adj-01', els.posterSubtitle.innerText);
                });
            }

            // Event Listeners: Input 01
            if (els.input01) {
                els.input01.addEventListener('input', (e) => {
                    const val = e.target.value;
                    if (state.adj01 === 'main') els.posterTitle.innerText = val;
                    else els.posterSubtitle.innerText = val;
                });
            }

            // Event Listeners: Tab 02
            if (els.tab02Name && els.tab02Desc) {
                els.tab02Name.addEventListener('click', () => {
                    state.adj02 = 'name';
                    setActiveTabStyle(els.tab02Name, els.tab02Desc);
                    updateInput('input-adj-02', els.posterName.innerText);
                });
                els.tab02Desc.addEventListener('click', () => {
                    state.adj02 = 'desc';
                    setActiveTabStyle(els.tab02Desc, els.tab02Name);
                    updateInput('input-adj-02', els.posterDesc.innerText);
                });
            }

            // Event Listeners: Input 02
            if (els.input02) {
                els.input02.addEventListener('input', (e) => {
                    const val = e.target.value;
                    if (state.adj02 === 'name') els.posterName.innerText = val;
                    else els.posterDesc.innerText = val;
                });
            }

            // Export
            if (els.btnExport) {
                els.btnExport.addEventListener('click', async () => {
                    const originalTransform = els.posterContent.style.transform;
                    const originalParent = els.posterContent.parentElement;
                    const originalNextSibling = els.posterContent.nextSibling;

                    // To export high-res, we need to remove the scale transform temporarily
                    // But removing scale might mess up layout if parent constrains it.
                    // Strategy: Clone the node, put it in a hidden container at full size.
                    
                    const clone = els.posterContent.cloneNode(true);
                    clone.style.transform = 'none';
                    clone.style.position = 'fixed';
                    clone.style.top = '0';
                    clone.style.left = '0';
                    clone.style.zIndex = '-9999';
                    document.body.appendChild(clone);

                    try {
                        // html-to-image handles SVGs and other elements more reliably than html2canvas
                        const dataUrl = await htmlToImage.toPng(clone, {
                            quality: 1.0,
                            backgroundColor: '#ffffff'
                        });
                        
                        const link = document.createElement('a');
                        link.download = 'poster-export.png';
                        link.href = dataUrl;
                        link.click();
                    } catch (err) {
                        console.error('Export failed:', err);
                        alert('Export failed, please check console.');
                    } finally {
                        document.body.removeChild(clone);
                    }
                });
            }

            // --- Image Upload Logic ---
            
            if (els.fileInput && els.dropZone) {
                els.fileInput.addEventListener('change', (e) => {
                    console.log('File input changed');
                    const file = e.target.files[0];
                    if (file) {
                        console.log('File selected:', file.name);
                        handleFile(file);
                        // Reset value to allow re-selecting the same file
                        e.target.value = '';
                    }
                });

                // Handle Drag & Drop
                els.dropZone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    els.dropZone.classList.add('border-blue-500', 'bg-blue-50');
                });

                els.dropZone.addEventListener('dragleave', (e) => {
                    e.preventDefault();
                    els.dropZone.classList.remove('border-blue-500', 'bg-blue-50');
                });

                els.dropZone.addEventListener('drop', (e) => {
                    console.log('File dropped');
                    e.preventDefault();
                    els.dropZone.classList.remove('border-blue-500', 'bg-blue-50');
                    const file = e.dataTransfer.files[0];
                    if (file && file.type.startsWith('image/')) {
                        console.log('Dropped image:', file.name);
                        handleFile(file);
                    }
                });
            }

            function handleFile(file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    console.log('FileReader loaded data');
                    // Re-query in case of stale reference, although els.posterAvatar should work if initialized correctly
                    const img = document.getElementById('poster-avatar');
                    if (img) {
                        img.src = e.target.result;
                        console.log('Image src updated');
                    } else {
                        console.error('Poster avatar element not found!');
                    }
                };
                reader.onerror = (e) => {
                    console.error('FileReader error:', e);
                };
                reader.readAsDataURL(file);
            }

            // --- Avatar Size Logic ---
            if (els.avatarSizeSlider) {
                els.avatarSizeSlider.addEventListener('input', (e) => {
                    const val = e.target.value;
                    if (els.avatarSizeVal) els.avatarSizeVal.innerText = `${val}%`;
                    // Adjust scale
                    if (els.posterAvatar) els.posterAvatar.style.transform = `scale(${val / 100})`;
                });
            }

            // --- Theme Color Logic ---
            const themeColorsContainer = document.getElementById('theme-colors');

            if (themeColorsContainer) {
                themeColorsContainer.addEventListener('click', (e) => {
                    if (e.target.hasAttribute('data-color')) {
                        const color = e.target.getAttribute('data-color');
                        
                        // Update backgrounds (divs)
                        const bgElements = document.querySelectorAll('.poster-theme-bg');
                        bgElements.forEach(el => el.style.backgroundColor = color);

                        // Update fills (SVG paths) only if visible (Decoration 1 paths stay hidden)
                        const fillElements = document.querySelectorAll('.poster-theme-fill:not(.hidden)');
                        fillElements.forEach(el => el.setAttribute('fill', color));

                        // Update pattern brown for Decoration 1
                        document.documentElement.style.setProperty('--pattern-brown', color);
                    }
                });
            }

            // --- Design Style Logic ---
            const designStyleGrid = document.getElementById('design-style-grid');
            const deco1PatternImg = document.getElementById('poster-deco-1-pattern-img');

            // Default: apply the provided pattern to Decoration 1 and keep old fill hidden
            if (deco1PatternImg) {
                deco1PatternImg.setAttribute('href', 'images/pattern 1.svg');
                deco1PatternImg.classList.remove('hidden');
            }
            const deco1Paths = document.getElementById('poster-deco-1-paths');
            if (deco1Paths) {
                deco1Paths.classList.add('hidden');
            }

            if (designStyleGrid) {
                designStyleGrid.addEventListener('click', (e) => {
                    const card = e.target.closest('[data-style]');
                    if (card) {
                        const styleType = card.getAttribute('data-style');
                        if (styleType === 'pattern') {
                            const src = card.getAttribute('data-src');
                            if (deco1PatternImg) {
                                deco1PatternImg.setAttribute('href', src);
                                deco1PatternImg.classList.remove('hidden');
                            }
                        }
                    }
                });
            }
        });
    </script>
</body>
</html>